OTR_BI_ACCT_ENTRY_PSB
OTR_BI_HDR_PSB
OTR_BI_LINE_PSB
OTR_TRNBI_BI_HDR_PSB

text outside of single quotes for case conversion
([^']*)('[^']*')
replace with
\L$1\E$2
repeat until end, it will miss last segment

function DBO.f_get_r12_account_string (
p_recname_xref IN varchar2, 
p_business_unit IN varchar2, 
p_account IN varchar2, 
p_dept IN varchar2, 
p_product IN varchar2, 
p_affiliate IN varchar2)
return varchar2 IS r12_xrefvalue varchar2(10);

New functions:
    DBO.F_GET_R12_PRODUCT_ONLY
    DBO.F_GET_R12_ENTITY_ONLY
    DBO.F_GET_R12_LOCATION_ONLY
    DBO.F_GET_R12_COSTCENTER_ONLY
    DBO.F_GET_R12_ACCOUNT_ONLY
    DBO.F_GET_R12_INTERCOMPANY_ONLY

These are the values that can be passed into the function  for p_recname_xref:
ENTITY
LOCATION
COSTCENTER
PRODUCT
ACCOUNT
INTERCOMPANY

change data in-place in amortization schedule
(rebuilt once per year)

everything that's mapped to 282101 - 282156 = warranty accts in oracle

DRTRNT
Account ID : CCDCAS 
Password : Qzseg_02

DRTRNP
Account ID : CCDCAS 
Password : Anehy_02

DWTRND
Account ID : CCDCAS 
Password : Fqeaw_02

DWTRNT
Account ID : CCDCAS 
Password : Nbogg_02

DWTRNP
Account ID : CCDCAS 
Password : Vnwlq_02

DWTRNT – I believe everything is in DBO schema.
DRTRNT – We will be using BH, DBO, and ODS_EBS schemas.
BH holds the old Oracle R9 Billing history data.
DBO holds all of the current application tables including PeopleSoft.
ODS_EBS will hold the new R12 tables.

DWTRNT DBO Summer#01
DRTRNT DBO Summer@01

Reserve Sales Detail Report
GL_ACCOUNT [mapSalesData1.GL_ACCOUNT]
	OTR_ORACLE_PS_REV_RCPO.PLNT_GL_ACCT2
	OTR_JRNL_LN_PS.ACCOUNT
	OTR_LEDGER2_PS.ACCOUNT
	R12_BI_ACCT_ENTRY_PSB.ACCOUNT
	AP_135_PROJ_RESOURCE.ACCOUNT
PROD_ID [mapSalesData1.DIST_GL_PRODUCT]
	OTR_ORACLE_PS_REV_RCPO.GL_PROD
	OTR_JRNL_LN_PS.PRODUCT
	OTR_LEDGER2_PS.PRODUCT
	OTR_BI_ACCT_ENTRY_PSB.PRODUCT
	MD_PRODUCT_CODE.DIST_PROD_CODE

Some product code info in "Oracle PC mapping for 804180, 804120, 804190.xlsx"  41% PS codes

Kelly commented that we need to ensure that these distribution product codes are eliminated from the parts revenue in sales detail reports that she uses for balancing as well as the revenue inputs for standard warranty reserves (1st yr, 2-5 yr, concession, retrofit)

Can you please document this in the notes?

AND '805100' <> D.PRODUCT         
   AND '802921' <> D.PRODUCT       
   AND '801270' <> D.PRODUCT         
   AND '803270' <> D.PRODUCT   
   AND '804140' <> D.PRODUCT

Oct 10 is the deploy date for PS data with R12 numbers.

_SCD tables contain surrogate keys

--------------------------------------
Can you help Scott and Steve develop the R12 queries needed to get the data we need for these tables? They can provide a list of the required columns if you need them.
OTR_BI_ACCT_ENTRY_PSB
OTR_BI_HDR_PSB
OTR_BI_LINE_PSB
OTR_TRNBI_BI_HDR_PSB
OTR_TRNCO_CM_DIST_PSB

TODO
--------------------------------------
????
52 53 54 - done
SL00 - done
EQUAL_428000 - done (only in mapDwExpenseConcessionData)
EQUAL_523500 - done
EQUAL_526892 - done
EQUAL_526893 - done
EQUAL_528100 - done
EQUAL_528200 - done
EQUAL_528300 - done
EQUAL_532100 - done
EQUAL_700000 - done
EQUAL_700020 - done
EQUAL_710000 - done
EQUAL_806300 - done (only in mapDwExpenseConcessionData)
EQUAL_490650 - (only in report MTD2, YTD2 queries)
LIKE_523500 - done
LIKE_5268 - done (only in DM_030_EXT_SALES_MVW)
LIKE_8062 - done
WHERE 1=2 - done
ANSI JOINS - partial
FORMAT - partial
RUN QUERY - partial
null -> NA - done for accounts, SL00, locations
products - done

DM_030_REV_RELEASE
	SY_030_FORECAST_REV_STG
	DM_030_SEASONALIZATION

--------------------------------------------------------------------
Actuate server:
http://igrappndc808:8900/acadmin 
You should use your ccdcaX name and TEST0816 pw.

--------------------------------------------------------------------
Monitor and kill Oracle processes:
Login as DBO and run this:
SELECT
SESS.SID,
SESS.SERIAL#,
SESS.PROCESS,
SESS.STATUS,
SESS.USERNAME,
SESS.SCHEMANAME,
SQL.SQL_TEXT
FROM
V$SESSION SESS
LEFT OUTER JOIN V$SQL SQL ON SQL.SQL_ID = SESS.SQL_ID
WHERE
SESS.TYPE = 'USER'
AND SESS.USERNAME IN('CCDCAS','CCDCAT', 'CCDCAU', 'ENT_RPT', 'ACTU_CACHE_ADMIN', 'DBO') ;

If you see anything for those users, you can kill it with either of the following (DISCONNECT seems to work better).
ALTER SYSTEM KILL SESSION 'SID , SERIAL#' IMMEDIATE;
ALTER SYSTEM DISCONNECT SESSION 'SID , SERIAL#'' IMMEDIATE;

e.g.
ALTER SYSTEM KILL SESSION '100, 25578' IMMEDIATE;
ALTER SYSTEM DISCONNECT SESSION '166, 24938' IMMEDIATE;

---------------
Retrofit Summary Report

ESS not map
last 6 months okay
Reports/RetrofitSummary
doesn't work in ESS, removed comments,
get rid of SYSTEM
git rid of TRX_MONTH
/@StandardWarranty/RetrofitSummaryReport ESS

Extended Warranty Summary Report-Oracle DW
MTDDeferredRevenue - identical
YTDDeferredRevenue - totaly different
MTDPrepaidCommissions - identical
YTDPrepaidCommissions - same except 10/31/2016 Expected Balance and Difference
MTDCost - identical
YTDCost - identical
MiscData1:
  General data columns for Parameter and Header - similar but not identical.  Test has fewer rows
  Data for PREPAID COMMISSIONS - not the same.  both have 1 row.  prod has an account.  test has no account.  both have zeroes.
  Data for  /* Comm detail Dollar Amt , Amort_Comm_& prepaid_comm_and_long_and_short_term*/  - identical
  Data for General Ledger Short term &Long term Balance in "YTDDefered Reve"Tab - same grand total.  prod has 2 accounts. test has only (blank)
MiscData2:
  General data columns for Parameter and Header - similar but not identical.  Test has fewer rows
  Data for PREPAID COMMISSIONS - appear identical
  Data for  /* Comm detail Dollar Amt , Amort_Comm_& prepaid_comm_and_long_and_short_term*/  - identical
  
